import{A as d,q as x,ai as r,a as t,b as l,E as i,k as P,aj as w,F as k,B as z,i as p,ak as b,o as s,t as v,al as M}from"./app-DlKUR2GZ.js";const f={class:"p-8"},B=["value"],C={key:0,class:"mt-4"},O=["value","disabled"],U={class:"mt-4"},S={__name:"OrderPage",setup(_){const m=d([]),y=d([]),o=d(""),n=d([]),u=d("card");x(async()=>{m.value=(await r.get("/api/pizzas")).data,y.value=(await r.get("/api/toppings")).data});const c=async()=>{const g=await r.post("/api/orders",{pizza_id:o.value||null,toppings:o.value?[]:n.value,payment_method:u.value});alert(g.data.message)};return(g,e)=>(s(),t("div",f,[e[8]||(e[8]=l("h1",null," Pizza Planet Order",-1)),i(l("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a)},[e[4]||(e[4]=l("option",{value:""},"Make your own",-1)),(s(!0),t(k,null,z(m.value.data,a=>(s(),t("option",{value:a.id},v(a.name)+" (Â£"+v(a.price)+")",9,B))),256))],512),[[w,o.value]]),o.value?P("",!0):(s(),t("div",C,[e[5]||(e[5]=l("h3",null,"Select up to 4 toppings:",-1)),(s(!0),t(k,null,z(y.value.data,a=>(s(),t("label",{key:a.id},[i(l("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[1]||(e[1]=V=>n.value=V),disabled:n.value.length>=4&&!n.value.includes(a.id)},null,8,O),[[M,n.value]]),p(" "+v(a.name),1)]))),128))])),l("div",U,[l("label",null,[i(l("input",{type:"radio",value:"card","onUpdate:modelValue":e[2]||(e[2]=a=>u.value=a)},null,512),[[b,u.value]]),e[6]||(e[6]=p(" Card",-1))]),l("label",null,[i(l("input",{type:"radio",value:"paypal","onUpdate:modelValue":e[3]||(e[3]=a=>u.value=a)},null,512),[[b,u.value]]),e[7]||(e[7]=p(" PayPal",-1))])]),l("button",{class:"mt-4",onClick:c},"Place Order")]))}};export{S as default};
